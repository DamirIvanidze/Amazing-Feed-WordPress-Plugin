jQuery(document).ready((function(t){var e,a,o=t(".mixer"),s=document.querySelector('[name="minSize"]'),i=document.querySelector('[name="maxSize"]'),n=t(".js-range-slider"),r=t(".js-from"),d=t(".js-to").val();if(o.length){o.find(".mix:odd").addClass("js-stripped-color"),n.ionRangeSlider({type:"double",min:0,max:d,step:5,from:r,to:d,onChange:function(){e.filter(e.getState().activeFilter)}}),a=n.data("ionRangeSlider"),t("button[type=reset]").on("click",(function(){s.value=0,i.value=d,a.update({from:0,to:d})})),e=mixitup(o,{selectors:{control:"[data-mixitup-control]"},multifilter:{enable:!0},pagination:{limit:10},callbacks:{onMixFail:function(){t(".mixer__failmessage").show()},onMixStart:function(){o.find(".mix").removeClass("js-stripped-color").removeClass("js-not-hide"),t(".mixer__failmessage").hide()},onMixEnd:function(){o.find(".mix").each((function(){"none"!==t(this).css("display")&&t(this).addClass("js-not-hide")})),o.find(".mix.js-not-hide:odd").addClass("js-stripped-color")}},templates:{pager:'<button type="button" class="${classNames}" data-page="${pageNumber}" data-mixitup-control>${pageNumber}</button>',pagerPrev:'<button type="button" class="${classNames}" data-page="prev" data-mixitup-control>&laquo;</button>',pagerNext:'<button type="button" class="${classNames}" data-page="next" data-mixitup-control>&raquo;</button>',pageStats:"от ${startPageAt} до ${endPageAt} из ${totalTargets}",pageStatsSingle:"${startPageAt} из ${endPageAt}",pageStatsFail:"Ничего не найдено"}}),mixitup.Mixer.registerFilter("testResultEvaluateHideShow","range",(function(t,e){var o=Number(e.dom.el.getAttribute("data-area")),s={min:Number(a.result.from),max:Number(a.result.to)};return(o<s.min||o>s.max)&&(t=!1),t}))}if(t(".mixer__sort a").on("click",(function(e){e.preventDefault(),t(".mixer__sort a").not(t(this)).removeClass("active"),t(this).toggleClass("active");var a=t(this).attr("id");t(this).attr("data-sort",(function(t,e){return e==a+":desc"?a+":asc":a+":desc"}))})),t(".js-modal-link").click((function(e){e.preventDefault(),t(".modal-shortcode-twbs__descr").empty();var a=t(this).data("flat_number");a&&t('<p class="flat_number">Квартира: '+a+"</p>").appendTo(".modal-shortcode-twbs__descr");var o=t(this).data();delete o.image,delete o.flat_number,delete o.filters_name;var s=t.map(o,(function(t,e){return[[t,e]]}));s.reverse();var i=t(this).data("filters_name").split(";");t.each(s,(function(e,a){if("rooms"==a[1]&&0==a[0])i[e]="Студия",a[0]="";else if("area"==a[1]){var o=i[e];i[e]="<span>"+a[0]+" м<sup>2</sup></span>",a[0]="<span>"+o+"</span>"}else if("renovation"==a[1]){switch(a[0]){case 0:a[0]="без отделки";break;case 1:a[0]="черновая отделка";break;case 2:a[0]="c отделкой"}i[e]=i[e]+": "}else i[e]=i[e]+": ";t('<p class="'+a[1]+'">'+i[e]+a[0]+"</p>").appendTo(".modal-shortcode-twbs__descr")}));var n=t(this).data("image");n?(t(".modal-shortcode-twbs svg").hide(),t(".modal-shortcode-twbs img").attr("data-src",n).show()):(t(".modal-shortcode-twbs img").hide(),t(".modal-shortcode-twbs svg").show()),t(".modal-shortcode-twbs").modal("show"),lozad(".lozad",{loaded:function(t){t.onload=function(){t.classList.add("loaded")}}}).observe()})),t(".modal-shortcode-twbs").on("hidden.bs.modal",(function(e){t(this).find("img").attr({"data-src":"",src:"","data-loaded":""}).removeClass("loaded")})),t(window).width()>992&&(t("#mixer_accordion").mousemove((function(e){var a=t(this).offset(),o=a.left,s=a.top,i=e.pageX-o,n=e.pageY-s;t(".js-mix-tooltip").show(),t(".js-modal-link").show(),t(".js-mix-tooltip").css({left:i+"px",top:n+"px"})})),t("#mixer_accordion").mouseleave((function(){return t(".js-mix-tooltip").hide(),!1})),t("#mixer_accordion .js-callbackwidget").mousemove((function(e){return t(".js-mix-tooltip").hide(),!1}))),"/flats/"===window.location.pathname&&""!==window.location.hash){var l=window.location.hash.substr(1);jQuery("html, body").animate({scrollTop:jQuery(".mixer").offset().top},800),e.filter(".building_section-"+l)}}));
//# sourceMappingURL=twbs-shortcode.min.js.map