jQuery(document).ready((function(e){var t,a=e(".mixer"),i=document.querySelector('[name="minSize"]'),o=document.querySelector('[name="maxSize"]');if(a.length){function s(){t.filter(t.getState().activeFilter)}a.find(".mix:odd").addClass("js-stripped-color"),t=mixitup(a,{selectors:{control:"[data-mixitup-control]"},multifilter:{enable:!0},pagination:{limit:10},callbacks:{onMixFail:function(){e(".mixer__failmessage").show()},onMixStart:function(){a.find(".mix").removeClass("js-stripped-color").removeClass("js-not-hide"),e(".mixer__failmessage").hide()},onMixEnd:function(){a.find(".mix").each((function(){"none"!==e(this).css("display")&&e(this).addClass("js-not-hide")})),a.find(".mix.js-not-hide:odd").addClass("js-stripped-color")}},templates:{pager:'<button type="button" class="${classNames}" data-page="${pageNumber}" data-mixitup-control>${pageNumber}</button>',pagerPrev:'<button type="button" class="${classNames}" data-page="prev" data-mixitup-control>&laquo;</button>',pagerNext:'<button type="button" class="${classNames}" data-page="next" data-mixitup-control>&raquo;</button>',pageStats:"от ${startPageAt} до ${endPageAt} из ${totalTargets}",pageStatsSingle:"${startPageAt} из ${endPageAt}",pageStatsFail:"Ничего не найдено"}}),mixitup.Mixer.registerFilter("testResultEvaluateHideShow","range",(function(e,t){var a=Number(t.dom.el.getAttribute("data-area")),s={min:Number(i.value),max:Number(o.value)};return(a<=s.min||a>=s.max)&&(e=!1),e})),i.addEventListener("change",s),o.addEventListener("change",s)}var n,l,r=e(".js-range-slider"),d=e(".js-from"),m=e(".js-to"),u=m.val();r.ionRangeSlider({type:"double",min:0,max:u,step:5,prettify_enabled:!1,onChange:function(e){n=e.from,l=e.to,d.prop("value",n),m.prop("value",l),s(document.querySelector(".mixer"))}});var p=e(".js-range-slider").data("ionRangeSlider");e("button[type=reset]").on("click",(function(){i.value=0,o.value=u,p.update({from:0,to:u})})),e(".mixer__sort a").on("click",(function(t){t.preventDefault(),e(".mixer__sort a").not(e(this)).removeClass("active"),e(this).toggleClass("active");var a=e(this).attr("id");e(this).attr("data-sort",(function(e,t){return t==a+":desc"?a+":asc":a+":desc"}))})),e(window).width()>960&&(e(".js-tooltip-parent").mousemove((function(t){var a=e(this).offset(),i=a.left,o=a.top,s=t.pageX-i,n=t.pageY-o;e(".js-mix-tooltip").show(),e(".js-mix-tooltip").css({left:s+"px",top:n+"px"})})),e(".js-tooltip-parent").mouseleave((function(){return e(".js-mix-tooltip").hide(),!1})),e(".js-tooltip-parent .mix__price").mousemove((function(t){return e(".js-mix-tooltip").hide(),!1})));var c=960;if($modal=UIkit.modal("#modal"),UIkit.util.on("#modal","hidden",(function(){e("#modal").find("img").attr("src","")})),e(".js-modal").on("click",(function(t){if(window.innerWidth<c){var a=e(t.target);a.hasClass("mix")||(a=a.parents(".mix")),a.hasClass("mix__open")?a.removeClass("mix__open"):(e(".mix__open").removeClass("mix__open"),a.addClass("mix__open"))}else if(!e(t.target).eq(0).hasClass("btn")){e("#modal .modal__data").empty();var i=e(this).data("flat_number");i&&e('<div class="uk-grid-small" uk-grid><div class="uk-width-expand" uk-leader>Квартира:</div><div class="rooms">'+i+"</div></div>").appendTo("#modal .modal__data");var o=e(this).data();delete o.image,delete o.flat_number,delete o.filters_name;var s=e.map(o,(function(e,t){return[[e,t]]}));s.reverse();var n=e(this).data("filters_name").split(";");e.each(s,(function(t,a){if("rooms"==a[1]&&0==a[0])n[t]="Студия",a[0]="";else if("area"==a[1])a[0]=a[0]+" м<sup>2</sup></span>",n[t]=n[t]+": ";else if("renovation"==a[1]){switch(a[0]){case 0:a[0]="без отделки";break;case 1:a[0]="черновая отделка";break;case 2:a[0]="c отделкой"}n[t]=n[t]+": "}else n[t]=n[t]+": ";e('<div class="uk-grid-small" uk-grid><div class="uk-width-expand" uk-leader>'+n[t]+'</div><div class="'+a[1]+'">'+a[0]+"</div></div>").appendTo("#modal .modal__data")}));var l=e(this).data("image");l?(e("#modal .modal__svg svg").hide(),e("#modal img.modal__plan").attr("src",l).show()):(e("#modal img.modal__plan").hide(),e("#modal .modal__svg svg").show()),$modal.show()}})),"/flats/"===window.location.pathname&&""!==window.location.hash){var v=window.location.hash.substr(1);jQuery("html, body").animate({scrollTop:jQuery(".mixer").offset().top},800),t.filter(".building_section-"+v)}}));
//# sourceMappingURL=uk-shortcode.min.js.map