jQuery(document).ready(function(t){jQuery(".adminform_ajax").each(function(){var s=t(this),a=s.find('input[type="submit"]'),e={required:"Поле обязательно для заполнения!",min:"Количество символов должно быть не меньше 2!",url:"Неверный формат. Ипользуйте http или https перед адресом сайта. Пример: http://google.com"};a.click(function(){if(s.find(".js-inspect-text").each(function(){""==t(this).val()?(t(this).removeClass("is-valid"),t(this).addClass("is-invalid"),t(this).siblings("small").text(e.required)):jQuery(this).val().length<2?(t(this).removeClass("is-valid"),t(this).addClass("is-invalid"),t(this).siblings("small").text(e.min)):(t(this).removeClass("is-invalid"),t(this).addClass("is-valid"),t(this).siblings("small").text(""))}),s.find(".js-inspect-url").each(function(){var s,a=(s=t(this).val(),/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(s));""==t(this).val()?(t(this).removeClass("is-valid"),t(this).addClass("is-invalid"),t(this).siblings("small").text(e.required)):0==a?(t(this).removeClass("is-valid"),t(this).addClass("is-invalid"),t(this).siblings("small").text(e.url)):(t(this).removeClass("is-invalid"),t(this).addClass("is-valid"),t(this).siblings("small").text(""))}),0!==s.find(".is-invalid").size())return!1})})});var ajaxgo=!1;jQuery(document).ready(function(l){function t(){setInterval(function(){l.ajax({type:"POST",url:ajax_var,dataType:"json",data:"action=check_progress",success:function(s){s.success&&(s.data.check_progress&&l(".js-remove-all-posts-progress-bar span").css("width",s.data.check_progress+"%"),s.data.next_cron_time&&l(".js-next-cron-time").text(s.data.next_cron_time),0<s.data.cron_func_run&&s.data.cron_func_run<100?(l(".js-cron-status span").removeClass().addClass("is-active").text("Функция запущена"),l(".js-cron").prop("disabled",!0),l(".js-remove-all-posts").prop("disabled",!0)):(l(".js-cron-status span").removeClass().addClass("is-not-active").text("Функция не запущена"),l(".js-cron").prop("disabled",!1),l(".js-remove-all-posts").prop("disabled",!1)),s.data.published_posts&&l(".js-count-posts").text(s.data.published_posts))}})},1e3)}var s=jQuery(".adminform_ajax"),a={dataType:"json",beforeSubmit:function(s,a,e){if(ajaxgo)return a.find(".response").html('<p class="error">Необходимо дождаться ответа от предыдущего запроса.</p>'),!1;a.find("input[type=submit]").prop("disabled",!0).val("Подождите.."),a.find(".response").html(""),ajaxgo=!0,a.find("input[type=submit]").hasClass("js-remove-all-posts")&&(l(".js-remove-all-posts-progress-bar span").css("width","0"),l(".js-remove-all-posts-progress-bar").fadeIn("slow"),t())},success:function(s,a,e,t){if(t.find("input").removeClass("is-invalid"),t.find("input[type=submit]").hasClass("js-remove-all-posts")&&l(".js-remove-all-posts-progress-bar").fadeOut("slow"),s.success){var i='<p class="alert alert-success">'+s.data.message+"</p>";t.find(".response").html(i),t.find("input[type=submit]").prop("disabled",!0).val("Готово")}else s.data.message&&(i='<p class="alert alert-danger">'+s.data.message+"</p>",t.find(".response").html(i)),t.find("input[type=submit]").prop("disabled",!1).val("Попробовать снова");s.data.redirect&&(window.location.href=s.data.redirect),ajaxgo=!1},error:function(s){console.log(arguments)},url:ajax_var};s.ajaxForm(a),l("#cron-table").length&&t()}),jQuery(document).ready(function(e){var a={drop:function(s,a){e(this).val(a.draggable[0].dataset.xpath)}};if((e(".xml__tagname").length||e(".drop-input").length)&&(e(".xml__tagname").draggable({cursor:"grabbing",helper:"clone",appendTo:"body"}),e(".drop-input").droppable(a),e(".js-add-new-field").click(function(s){s.preventDefault(),e(this).before('<div class="row mt-2"><div class="col-xs"><input type="text" name="custom_name[]" value="" class="w-100 js-inspect-text" placeholder="Название поля"><small></small></div><div class="col-xs"><input type="text" name="custom_value[]" value="" class="w-100 drop-input js-inspect-text" placeholder="Значение поля"><small></small></div><div class="col-xs-1"><a href="#" class="js-remove-field"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M296 432h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zm-160 0h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zM440 64H336l-33.6-44.8A48 48 0 0 0 264 0h-80a48 48 0 0 0-38.4 19.2L112 64H8a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v368a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V96h24a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8zM171.2 38.4A16.1 16.1 0 0 1 184 32h80a16.1 16.1 0 0 1 12.8 6.4L296 64H152zM384 464a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V96h320zm-168-32h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8z"/></svg></a></div></div>'),e(".drop-input").droppable(a)}),e(document).on("click","a.js-remove-field",function(s){s.preventDefault(),e(this).parents(".row.mt-2").remove()})),e(".swiper-container").length){var t=new Swiper(".swiper-container",{allowTouchMove:!1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},keyboard:{enabled:!0,onlyInViewport:!0},runCallbacksOnInit:!0,on:{slideChange:function(){e("#js-current-slide").val(t.activeIndex+1)}}});e("#js-total-slides").text(t.slides.length),e("#js-current-slide").on("change",function(s){s.preventDefault(),t.slideTo(e(this).val()-1)})}});
//# sourceMappingURL=admin.script.min.js.map